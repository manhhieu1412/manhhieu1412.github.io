import{s as P,v as y,i as B,n as N,e as v,w as S,y as I,z as R,j as z,l as k,E as C,B as _,F as H,h as T,H as A,b as q,k as O,G as U,I as D,f as o,g as G}from"./scheduler.BuAT2VZe.js";import{H as J,g as j}from"./regex.CzMnCWXk.js";import{S as K,i as L}from"./index.CFhXpnjk.js";function F(i){let e;function l(f,n){return f[3]?V:Q}let a=l(i),t=a(i);return{c(){t.c(),e=y()},l(f){t.l(f),e=y()},m(f,n){t.m(f,n),B(f,e,n)},p(f,n){a===(a=l(f))&&t?t.p(f,n):(t.d(1),t=a(f),t&&(t.c(),t.m(e.parentNode,e)))},d(f){f&&v(e),t.d(f)}}}function Q(i){let e,l,a,t,f=[{srcset:l=i[6]},{src:a=i[0]},{alt:i[2]},{loading:t=i[5]?"lazy":"eager"},{decoding:"async"},{class:i[1]},i[7]],n={};for(let s=0;s<f.length;s+=1)n=I(n,f[s]);return{c(){e=z("img"),this.h()},l(s){e=k(s,"IMG",{srcset:!0,src:!0,alt:!0,loading:!0,decoding:!0,class:!0}),this.h()},h(){C(e,n),_(e,"full-bleed",i[4]),_(e,"svelte-1lnhgad",!0)},m(s,g){B(s,e,g)},p(s,g){C(e,n=j(f,[g&64&&l!==(l=s[6])&&{srcset:l},g&1&&!H(e.src,a=s[0])&&{src:a},g&4&&{alt:s[2]},g&32&&t!==(t=s[5]?"lazy":"eager")&&{loading:t},{decoding:"async"},g&2&&{class:s[1]},g&128&&s[7]])),_(e,"full-bleed",s[4]),_(e,"svelte-1lnhgad",!0)},d(s){s&&v(e)}}}function V(i){let e,l,a,t,f,n,s,g,b=[{class:i[1]},i[7]],h={};for(let r=0;r<b.length;r+=1)h=I(h,b[r]);return{c(){e=z("figure"),l=z("img"),n=T(),s=z("figcaption"),g=new A(!1),this.h()},l(r){e=k(r,"FIGURE",{class:!0});var u=q(e);l=k(u,"IMG",{srcset:!0,src:!0,alt:!0,loading:!0,decoding:!0,class:!0}),n=O(u),s=k(u,"FIGCAPTION",{});var m=q(s);g=U(m,!1),m.forEach(v),u.forEach(v),this.h()},h(){D(l,a=i[6])||o(l,"srcset",a),H(l.src,t=i[0])||o(l,"src",t),o(l,"alt",i[2]),o(l,"loading",f=i[5]?"lazy":"eager"),o(l,"decoding","async"),o(l,"class","svelte-1lnhgad"),g.a=null,C(e,h),_(e,"full-bleed",i[4]),_(e,"svelte-1lnhgad",!0)},m(r,u){B(r,e,u),G(e,l),G(e,n),G(e,s),g.m(i[3],s)},p(r,u){u&64&&a!==(a=r[6])&&o(l,"srcset",a),u&1&&!H(l.src,t=r[0])&&o(l,"src",t),u&4&&o(l,"alt",r[2]),u&32&&f!==(f=r[5]?"lazy":"eager")&&o(l,"loading",f),u&8&&g.p(r[3]),C(e,h=j(b,[u&2&&{class:r[1]},u&128&&r[7]])),_(e,"full-bleed",r[4]),_(e,"svelte-1lnhgad",!0)},d(r){r&&v(e)}}}function W(i){let e,l=i[0]&&F(i);return{c(){l&&l.c(),e=y()},l(a){l&&l.l(a),e=y()},m(a,t){l&&l.m(a,t),B(a,e,t)},p(a,[t]){a[0]?l?l.p(a,t):(l=F(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:N,o:N,d(a){a&&v(e),l&&l.d(a)}}}function X(i,e,l){const a=["additionalClass","src","alt","figcaption","fullBleed","lazy","formats","widths"];let t=S(e,a),{additionalClass:f=void 0}=e,{src:n}=e,{alt:s}=e,{figcaption:g=void 0}=e,{fullBleed:b=void 0}=e,{lazy:h=!0}=e,{formats:r=["avif","webp","png"]}=e,{widths:u=void 0}=e,m,E;function M(){if(J.test(n)||!n.match(/\.(png|jpe?g|webp|avif)$/))return;l(0,n=n.replace(/^\/?cms\/media/,"/cms/optimized-media")),m=m.replace(/^\/?cms\/media/,"/cms/optimized-media");let c="";if(u)for(let d=0;d<u.length;d++)c+=`${m}-${u[d]}.${r[0]} ${u[d]}w`,d<u.length-1&&(c+=", ");else for(let d=0;d<r.length;d++)c+=`${m}.${r[d]}`,d<r.length-1&&(c+=", ");return c}return i.$$set=c=>{e=I(I({},e),R(c)),l(7,t=S(e,a)),"additionalClass"in c&&l(1,f=c.additionalClass),"src"in c&&l(0,n=c.src),"alt"in c&&l(2,s=c.alt),"figcaption"in c&&l(3,g=c.figcaption),"fullBleed"in c&&l(4,b=c.fullBleed),"lazy"in c&&l(5,h=c.lazy),"formats"in c&&l(8,r=c.formats),"widths"in c&&l(9,u=c.widths)},i.$$.update=()=>{i.$$.dirty&1&&(m=n?n.split(".")[0]:"",l(6,E=M()))},[n,f,s,g,b,h,E,t,r,u]}class w extends K{constructor(e){super(),L(this,e,X,W,P,{additionalClass:1,src:0,alt:2,figcaption:3,fullBleed:4,lazy:5,formats:8,widths:9})}}export{w as I};
